{
  "timestamp": "2026-01-28T10:02:10.930540",
  "passed": 6,
  "failed": 0,
  "results": [
    {
      "test": "ACCURACY_PRESERVATION",
      "threshold": 0.8,
      "test_sizes": [
        50,
        100,
        200,
        500
      ],
      "agreement_levels": [
        "high",
        "medium",
        "low"
      ],
      "accuracies": {
        "sampled_20": "100.0%",
        "sampled_50": "100.0%",
        "projected_64": "100.0%",
        "projected_128": "100.0%",
        "centroid": "100.0%",
        "nystrom_30": "100.0%",
        "streaming": "100.0%",
        "combined": "83.3%"
      },
      "best_method": "sampled_20",
      "best_accuracy": "100.0%",
      "goal": ">95% gate agreement",
      "goal_met": true,
      "sample_errors": {
        "combined": [
          {
            "n": 200,
            "agreement": "high",
            "R_exact": 4.433175930254177,
            "R_approx": 0.7778648751925084,
            "rel_error": 0.8245355277050985
          },
          {
            "n": 500,
            "agreement": "high",
            "R_exact": 4.3729159256126975,
            "R_approx": 0.7885571404398934,
            "rel_error": 0.8196724671011352
          }
        ]
      },
      "pass": true
    },
    {
      "test": "SPEEDUP_MEASUREMENT",
      "test_sizes": [
        100,
        200,
        500,
        1000
      ],
      "timing_results": {
        "exact": {
          "n": 1000,
          "time": 0.36999019999833155
        },
        "sampled_50": {
          "n": 1000,
          "time": 0.0010887333313197207
        },
        "projected_64": {
          "n": 1000,
          "time": 0.3681161666706127
        },
        "centroid": {
          "n": 1000,
          "time": 0.0018684000024222769
        },
        "nystrom_50": {
          "n": 1000,
          "time": 0.0366776333321468
        },
        "streaming": {
          "n": 1000,
          "time": 0.003956499997002538
        },
        "combined": {
          "n": 1000,
          "time": 0.002783466666490616
        }
      },
      "speedups_by_n": {
        "sampled_50": [
          {
            "n": 100,
            "speedup": 3.4815416143765043
          },
          {
            "n": 200,
            "speedup": 14.698417018636007
          },
          {
            "n": 500,
            "speedup": 89.82798445888501
          },
          {
            "n": 1000,
            "speedup": 339.83546691809613
          }
        ],
        "projected_64": [
          {
            "n": 100,
            "speedup": 0.8410303072374344
          },
          {
            "n": 200,
            "speedup": 0.9442853988876858
          },
          {
            "n": 500,
            "speedup": 1.0147399339227225
          },
          {
            "n": 1000,
            "speedup": 1.0050908748308132
          }
        ],
        "centroid": [
          {
            "n": 100,
            "speedup": 20.312180203816123
          },
          {
            "n": 200,
            "speedup": 41.258098092088886
          },
          {
            "n": 500,
            "speedup": 84.4684882467386
          },
          {
            "n": 1000,
            "speedup": 198.02515495539487
          }
        ],
        "nystrom_50": [
          {
            "n": 100,
            "speedup": 0.6557846260157876
          },
          {
            "n": 200,
            "speedup": 1.6065651850485763
          },
          {
            "n": 500,
            "speedup": 4.6114556976683625
          },
          {
            "n": 1000,
            "speedup": 10.087624701620175
          }
        ],
        "streaming": [
          {
            "n": 100,
            "speedup": 0.8892242875297754
          },
          {
            "n": 200,
            "speedup": 3.8033015064665663
          },
          {
            "n": 500,
            "speedup": 22.90016347545911
          },
          {
            "n": 1000,
            "speedup": 93.51452047987812
          }
        ],
        "combined": [
          {
            "n": 100,
            "speedup": 1.312315655267182
          },
          {
            "n": 200,
            "speedup": 5.363686054032904
          },
          {
            "n": 500,
            "speedup": 31.842545144565115
          },
          {
            "n": 1000,
            "speedup": 132.92424315783663
          }
        ]
      },
      "avg_speedups": {
        "sampled_50": "112.0x",
        "projected_64": "1.0x",
        "centroid": "86.0x",
        "nystrom_50": "4.2x",
        "streaming": "30.3x",
        "combined": "42.9x"
      },
      "best_method": "sampled_50",
      "best_speedup": "112.0x",
      "goal": ">=10x speedup",
      "goal_met": "True",
      "pass": "True"
    },
    {
      "test": "PARETO_FRONTIER",
      "n_observations": 500,
      "threshold": 0.8,
      "method_stats": {
        "exact": {
          "accuracy": "100.0%",
          "speedup": "1.0x",
          "avg_error": "0.00%"
        },
        "sample_20": {
          "accuracy": "100.0%",
          "speedup": "273.9x",
          "avg_error": "0.00%"
        },
        "sample_50": {
          "accuracy": "100.0%",
          "speedup": "80.2x",
          "avg_error": "0.00%"
        },
        "sample_100": {
          "accuracy": "100.0%",
          "speedup": "23.3x",
          "avg_error": "0.00%"
        },
        "proj_32": {
          "accuracy": "100.0%",
          "speedup": "1.0x",
          "avg_error": "0.00%"
        },
        "proj_64": {
          "accuracy": "100.0%",
          "speedup": "1.0x",
          "avg_error": "0.00%"
        },
        "proj_128": {
          "accuracy": "100.0%",
          "speedup": "0.9x",
          "avg_error": "0.00%"
        },
        "centroid": {
          "accuracy": "100.0%",
          "speedup": "79.9x",
          "avg_error": "0.00%"
        },
        "nystrom_30": {
          "accuracy": "100.0%",
          "speedup": "7.9x",
          "avg_error": "0.00%"
        },
        "nystrom_50": {
          "accuracy": "100.0%",
          "speedup": "4.2x",
          "avg_error": "0.00%"
        },
        "combined_small": {
          "accuracy": "100.0%",
          "speedup": "104.6x",
          "avg_error": "0.00%"
        },
        "combined_med": {
          "accuracy": "66.7%",
          "speedup": "44.0x",
          "avg_error": "81.97%"
        },
        "combined_large": {
          "accuracy": "100.0%",
          "speedup": "12.2x",
          "avg_error": "0.00%"
        }
      },
      "pareto_frontier": [
        "sample_20"
      ],
      "good_frontier_methods": [
        "sample_20"
      ],
      "goal": ">=1 method with >90% accuracy and >5x speedup on frontier",
      "goal_met": true,
      "pass": true
    },
    {
      "test": "SCALING_BEHAVIOR",
      "test_sizes": [
        50,
        100,
        200,
        400,
        800
      ],
      "scaling_exponents": {
        "exact": "O(n^2.07)",
        "sampled_fixed": "O(n^0.05)",
        "centroid": "O(n^1.01)",
        "combined": "O(n^-0.04)"
      },
      "exact_alpha": "2.07",
      "subquadratic_methods": [
        "sampled_fixed",
        "centroid",
        "combined"
      ],
      "goal": ">=2 methods with alpha < exact - 0.3",
      "goal_met": true,
      "scaling_data": {
        "exact": [
          {
            "n": 50,
            "time": 0.0009977666680545856
          },
          {
            "n": 100,
            "time": 0.003907866669275488
          },
          {
            "n": 200,
            "time": 0.018016633332687586
          },
          {
            "n": 400,
            "time": 0.07220896666694898
          },
          {
            "n": 800,
            "time": 0.29805576666937367
          }
        ],
        "sampled_fixed": [
          {
            "n": 50,
            "time": 0.0010810000021592714
          },
          {
            "n": 100,
            "time": 0.0010368666674670142
          },
          {
            "n": 200,
            "time": 0.0010545666664256714
          },
          {
            "n": 400,
            "time": 0.0012192666666427006
          },
          {
            "n": 800,
            "time": 0.0011743333355601255
          }
        ],
        "centroid": [
          {
            "n": 50,
            "time": 0.00013253333114941293
          },
          {
            "n": 100,
            "time": 0.00019393333301801854
          },
          {
            "n": 200,
            "time": 0.00033430000136528787
          },
          {
            "n": 400,
            "time": 0.0007775333360768855
          },
          {
            "n": 800,
            "time": 0.002215499999389673
          }
        ],
        "combined": [
          {
            "n": 50,
            "time": 0.0017188000007687758
          },
          {
            "n": 100,
            "time": 0.0016233666683547199
          },
          {
            "n": 200,
            "time": 0.0015573000006649333
          },
          {
            "n": 400,
            "time": 0.0015828999967197888
          },
          {
            "n": 800,
            "time": 0.0015375000002677552
          }
        ]
      },
      "pass": true
    },
    {
      "test": "ROBUSTNESS_TO_AGREEMENT_LEVEL",
      "n_observations": 300,
      "agreement_levels": [
        "high",
        "medium",
        "low",
        "mixed"
      ],
      "accuracy_by_level": {
        "sampled_50": {
          "high": "100%",
          "medium": "100%",
          "low": "100%",
          "mixed": "100%"
        },
        "projected_64": {
          "high": "100%",
          "medium": "100%",
          "low": "100%",
          "mixed": "100%"
        },
        "centroid": {
          "high": "100%",
          "medium": "100%",
          "low": "100%",
          "mixed": "100%"
        },
        "combined": {
          "high": "100%",
          "medium": "100%",
          "low": "100%",
          "mixed": "100%"
        }
      },
      "consistency_scores": {
        "sampled_50": {
          "std": 0.0,
          "min_accuracy": 1.0,
          "is_robust": true
        },
        "projected_64": {
          "std": 0.0,
          "min_accuracy": 1.0,
          "is_robust": true
        },
        "centroid": {
          "std": 0.0,
          "min_accuracy": 1.0,
          "is_robust": true
        },
        "combined": {
          "std": 0.0,
          "min_accuracy": 1.0,
          "is_robust": true
        }
      },
      "robust_methods": [
        "sampled_50",
        "projected_64",
        "centroid",
        "combined"
      ],
      "goal": ">=2 methods robust across all agreement levels",
      "goal_met": true,
      "pass": true
    },
    {
      "test": "RECOMMENDED_IMPLEMENTATION",
      "n_benchmark": 500,
      "benchmark_results": {
        "sampled_50": {
          "accuracy": "100.0%",
          "speedup": "87.4x",
          "avg_error": "249.57%",
          "score": "4.50"
        },
        "projected_64": {
          "accuracy": "100.0%",
          "speedup": "1.0x",
          "avg_error": "47.71%",
          "score": "4.40"
        },
        "centroid": {
          "accuracy": "100.0%",
          "speedup": "74.1x",
          "avg_error": "626.13%",
          "score": "0.74"
        },
        "nystrom_50": {
          "accuracy": "100.0%",
          "speedup": "4.6x",
          "avg_error": "181.46%",
          "score": "3.44"
        },
        "combined": {
          "accuracy": "100.0%",
          "speedup": "39.6x",
          "avg_error": "565.36%",
          "score": "1.01"
        }
      },
      "best_method": "sampled_50",
      "recommendation": "\nRECOMMENDED APPROXIMATION: sampled_50\n\nDescription: Random sample of 50 observations\n\nPerformance:\n- Accuracy: 100.0% gate agreement\n- Speedup: 87.4x faster than exact\n- Average Error: 249.57%\n\nCode:\ndef compute_r_fast(embeddings, sample_size=50, target_dim=64, epsilon=1e-6):\n    \"\"\"\n    Fast approximation of R = E / sigma.\n\n    For n=500, this achieves 87.4x speedup\n    with 100.0% accuracy on gate decisions.\n    \"\"\"\n    n = len(embeddings)\n    d = embeddings[0].shape[0] if embeddings else 0\n\n    # Sample observations\n    k = min(sample_size, n)\n    indices = np.random.choice(n, size=k, replace=False)\n    sampled = [embeddings[i] for i in indices]\n\n    # Project to lower dimension (optional for additional speedup)\n    if target_dim < d:\n        projection = np.random.randn(d, target_dim) / np.sqrt(target_dim)\n        sampled = [e @ projection for e in sampled]\n        sampled = [e / np.linalg.norm(e) for e in sampled]\n\n    # Compute R on sample\n    similarities = []\n    for i in range(k):\n        for j in range(i + 1, k):\n            similarities.append(np.dot(sampled[i], sampled[j]))\n\n    E = np.mean(similarities)\n    sigma = np.std(similarities)\n    return E / max(sigma, epsilon)\n",
      "goal": ">90% accuracy and >5x speedup",
      "goal_met": "True",
      "pass": "True"
    }
  ],
  "verdict": "VALIDATED"
}