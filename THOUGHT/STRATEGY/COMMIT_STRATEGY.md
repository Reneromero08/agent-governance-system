# Swarm Commit Strategy: "The Filter"

## Objective
To safely merge the chaotic, high-volume fixes generated by the "Entropy Hackers" swarm into the canonical `CATALYTIC-DPT` codebase, ensuring no regressions.

## The Protocol

### 1. The Sandbox (Current State)
- The swarm operates on the **live working tree** (dirty state).
- **Rule:** Do not commit blindly. The working tree is a volatile "test kitchen".

### 2. The Verification Gate ("The Gauntlet")
Before committing any changes, the following checks must pass:
1.  **Syntax Check**: All `.py` files must compile (The Claw enforces this).
2.  **Targeted Tests**: The specific test file modified must pass `pytest <file>`.
3.  **Regression Scan**: `pytest CAPABILITY/TESTBENCH` must not explode.

### 3. The Commit Strategy ("Phase-Locked Merge")
We do not commit file-by-file. We commit by **Architectural Phase**.

**Procedure:**
1.  **Group changes** by directory/Phase (e.g., `CAPABILITY/TESTBENCH/phases/phase6_governance/`).
2.  **Run Phase Suite**: `pytest CAPABILITY/TESTBENCH/phases/phase6_governance/`
3.  **If PASS**:
    - `git add CAPABILITY/TESTBENCH/phases/phase6_governance/`
    - `git commit -m "fix(phase6): resolve governance test failures (Swarm v3.4)"`
4.  **If FAIL**:
    - Identify the specific failing file.
    - **Revert** just that file: `git checkout HEAD -- <file>`
    - Re-run Phase Suite.
    - Repeat until pass.
    - Dispatch "The Claw" to re-process the reverted file in isolation.

### 4. Special Handling: "The Core"
Changes to `AGENTS.md`, `TOOLS/`, or root infrastructure (`pipeline_runtime.py`) are **High Risk**.
- **Rule:** These require manual review or a dedicated "Core Integrity" test run (`pytest CAPABILITY/TESTBENCH/structure`).

## Execution Plan
1.  **Validate**: Run verification on current dirty state.
2.  **Part**: Separate passing phases from failing phases.
3.  **Commit**: Lock in the wins.
4.  **Recycle**: Send failures back to The Claw.
