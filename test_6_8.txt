============================= test session starts =============================
platform win32 -- Python 3.13.1, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\rene_\AppData\Local\Programs\Python\Python313\python.exe
cachedir: .pytest_cache
rootdir: D:\CCC 2.0\AI\agent-governance-system\CATALYTIC-DPT
configfile: pytest.ini
collecting ... collected 3 items

CATALYTIC-DPT\TESTBENCH\test_phase6_8_versioning.py::test_capability_hash_mismatch_on_tampered_adapter FAILED [ 33%]
CATALYTIC-DPT\TESTBENCH\test_phase6_8_versioning.py::test_new_capability_version_requires_new_hash FAILED [ 66%]
CATALYTIC-DPT\TESTBENCH\test_phase6_8_versioning.py::test_historical_verification_with_immutable_capabilities FAILED [100%]

================================== FAILURES ===================================
______________ test_capability_hash_mismatch_on_tampered_adapter ______________
CATALYTIC-DPT\TESTBENCH\test_phase6_8_versioning.py:110: in test_capability_hash_mismatch_on_tampered_adapter
    assert r.returncode == 0, f"Route should succeed with correct hash: {r.stderr}"
E   AssertionError: Route should succeed with correct hash: D:\CCC 2.0\AI\agent-governance-system\TOOLS\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
E       from jsonschema import Draft7Validator, RefResolver
E     ERROR: REGISTRY_INVALID
E     
E   assert 2 == 0
E    +  where 2 = CompletedProcess(args=['C:\\Users\\rene_\\AppData\\Local\\Programs\\Python\\Python313\\python.exe', '-m', 'TOOLS.ags', 'route', '--plan', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-71\\test_capability_hash_mismatch_0\\plan.json', '--pipeline-id', 'test-versioning-ok'], returncode=2, stdout='', stderr='D:\\CCC 2.0\\AI\\agent-governance-system\\TOOLS\\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  from jsonschema import Draft7Validator, RefResolver\nERROR: REGISTRY_INVALID\n').returncode
________________ test_new_capability_version_requires_new_hash ________________
CATALYTIC-DPT\TESTBENCH\test_phase6_8_versioning.py:213: in test_new_capability_version_requires_new_hash
    assert r_v1.returncode == 0, f"v1 should route: {r_v1.stderr}"
E   AssertionError: v1 should route: D:\CCC 2.0\AI\agent-governance-system\TOOLS\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
E       from jsonschema import Draft7Validator, RefResolver
E     ERROR: REGISTRY_INVALID
E     
E   assert 2 == 0
E    +  where 2 = CompletedProcess(args=['C:\\Users\\rene_\\AppData\\Local\\Programs\\Python\\Python313\\python.exe', '-m', 'TOOLS.ags', 'route', '--plan', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-71\\test_new_capability_version_re0\\plan_v1.json', '--pipeline-id', 'test-v1'], returncode=2, stdout='', stderr='D:\\CCC 2.0\\AI\\agent-governance-system\\TOOLS\\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  from jsonschema import Draft7Validator, RefResolver\nERROR: REGISTRY_INVALID\n').returncode
__________ test_historical_verification_with_immutable_capabilities ___________
CATALYTIC-DPT\TESTBENCH\test_phase6_8_versioning.py:275: in test_historical_verification_with_immutable_capabilities
    assert r_route.returncode == 0, f"Historical route should succeed: {r_route.stderr}"
E   AssertionError: Historical route should succeed: D:\CCC 2.0\AI\agent-governance-system\TOOLS\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
E       from jsonschema import Draft7Validator, RefResolver
E     ERROR: REGISTRY_INVALID
E     
E   assert 2 == 0
E    +  where 2 = CompletedProcess(args=['C:\\Users\\rene_\\AppData\\Local\\Programs\\Python\\Python313\\python.exe', '-m', 'TOOLS.ags', 'route', '--plan', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-71\\test_historical_verification_w0\\plan.json', '--pipeline-id', 'historical-pipeline'], returncode=2, stdout='', stderr='D:\\CCC 2.0\\AI\\agent-governance-system\\TOOLS\\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  from jsonschema import Draft7Validator, RefResolver\nERROR: REGISTRY_INVALID\n').returncode
=========================== short test summary info ===========================
FAILED CATALYTIC-DPT\TESTBENCH\test_phase6_8_versioning.py::test_capability_hash_mismatch_on_tampered_adapter
FAILED CATALYTIC-DPT\TESTBENCH\test_phase6_8_versioning.py::test_new_capability_version_requires_new_hash
FAILED CATALYTIC-DPT\TESTBENCH\test_phase6_8_versioning.py::test_historical_verification_with_immutable_capabilities
============================== 3 failed in 0.74s ==============================
