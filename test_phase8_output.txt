============================= test session starts =============================
platform win32 -- Python 3.13.1, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\rene_\AppData\Local\Programs\Python\Python313\python.exe
cachedir: .pytest_cache
rootdir: D:\CCC 2.0\AI\agent-governance-system\CATALYTIC-DPT
configfile: pytest.ini
collecting ... collected 5 items

CATALYTIC-DPT\TESTBENCH\test_phase8_router_receipts.py::test_router_receipts_created FAILED [ 20%]
CATALYTIC-DPT\TESTBENCH\test_phase8_router_receipts.py::test_router_over_output_fails_closed FAILED [ 40%]
CATALYTIC-DPT\TESTBENCH\test_phase8_router_receipts.py::test_router_stderr_fails_closed FAILED [ 60%]
CATALYTIC-DPT\TESTBENCH\test_phase8_router_receipts.py::test_malformed_plan_fails_schema_validation PASSED [ 80%]
CATALYTIC-DPT\TESTBENCH\test_phase8_router_receipts.py::test_capability_escalation_fails_closed FAILED [100%]

================================== FAILURES ===================================
________________________ test_router_receipts_created _________________________
CATALYTIC-DPT\TESTBENCH\test_phase8_router_receipts.py:78: in test_router_receipts_created
    assert r.returncode == 0, f"Router should succeed: {r.stderr}"
E   AssertionError: Router should succeed: D:\CCC 2.0\AI\agent-governance-system\TOOLS\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
E       from jsonschema import Draft7Validator, RefResolver
E     ERROR: [WinError 193] %1 is not a valid Win32 application
E     
E   assert 2 == 0
E    +  where 2 = CompletedProcess(args=['C:\\Users\\rene_\\AppData\\Local\\Programs\\Python\\Python313\\python.exe', '-m', 'TOOLS.ags', 'plan', '--router', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-54\\test_router_receipts_created0\\router.py', '--out', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-54\\test_router_receipts_created0\\plan.json'], returncode=2, stdout='', stderr='D:\\CCC 2.0\\AI\\agent-governance-system\\TOOLS\\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  from jsonschema import Draft7Validator, RefResolver\nERROR: [WinError 193] %1 is not a valid Win32 application\n').returncode
____________________ test_router_over_output_fails_closed _____________________
CATALYTIC-DPT\TESTBENCH\test_phase8_router_receipts.py:142: in test_router_over_output_fails_closed
    assert "ROUTER_OUTPUT_TOO_LARGE" in (r.stderr + r.stdout)
E   AssertionError: assert 'ROUTER_OUTPUT_TOO_LARGE' in ('D:\\CCC 2.0\\AI\\agent-governance-system\\TOOLS\\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  from jsonschema import Draft7Validator, RefResolver\nERROR: [WinError 193] %1 is not a valid Win32 application\n' + '')
E    +  where 'D:\\CCC 2.0\\AI\\agent-governance-system\\TOOLS\\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  from jsonschema import Draft7Validator, RefResolver\nERROR: [WinError 193] %1 is not a valid Win32 application\n' = CompletedProcess(args=['C:\\Users\\rene_\\AppData\\Local\\Programs\\Python\\Python313\\python.exe', '-m', 'TOOLS.ags', 'plan', '--router', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-54\\test_router_over_output_fails_0\\router_spam.py', '--out', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-54\\test_router_over_output_fails_0\\plan.json'], returncode=2, stdout='', stderr='D:\\CCC 2.0\\AI\\agent-governance-system\\TOOLS\\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  from jsonschema import Draft7Validator, RefResolver\nERROR: [WinError 193] %1 is not a valid Win32 application\n').stderr
E    +  and   '' = CompletedProcess(args=['C:\\Users\\rene_\\AppData\\Local\\Programs\\Python\\Python313\\python.exe', '-m', 'TOOLS.ags', 'plan', '--router', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-54\\test_router_over_output_fails_0\\router_spam.py', '--out', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-54\\test_router_over_output_fails_0\\plan.json'], returncode=2, stdout='', stderr='D:\\CCC 2.0\\AI\\agent-governance-system\\TOOLS\\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  from jsonschema import Draft7Validator, RefResolver\nERROR: [WinError 193] %1 is not a valid Win32 application\n').stdout
_______________________ test_router_stderr_fails_closed _______________________
CATALYTIC-DPT\TESTBENCH\test_phase8_router_receipts.py:174: in test_router_stderr_fails_closed
    assert "ROUTER_STDERR_NOT_EMPTY" in (r.stderr + r.stdout)
E   AssertionError: assert 'ROUTER_STDERR_NOT_EMPTY' in ('D:\\CCC 2.0\\AI\\agent-governance-system\\TOOLS\\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  from jsonschema import Draft7Validator, RefResolver\nERROR: [WinError 193] %1 is not a valid Win32 application\n' + '')
E    +  where 'D:\\CCC 2.0\\AI\\agent-governance-system\\TOOLS\\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  from jsonschema import Draft7Validator, RefResolver\nERROR: [WinError 193] %1 is not a valid Win32 application\n' = CompletedProcess(args=['C:\\Users\\rene_\\AppData\\Local\\Programs\\Python\\Python313\\python.exe', '-m', 'TOOLS.ags', 'plan', '--router', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-54\\test_router_stderr_fails_close0\\router_stderr.py', '--out', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-54\\test_router_stderr_fails_close0\\plan.json'], returncode=2, stdout='', stderr='D:\\CCC 2.0\\AI\\agent-governance-system\\TOOLS\\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  from jsonschema import Draft7Validator, RefResolver\nERROR: [WinError 193] %1 is not a valid Win32 application\n').stderr
E    +  and   '' = CompletedProcess(args=['C:\\Users\\rene_\\AppData\\Local\\Programs\\Python\\Python313\\python.exe', '-m', 'TOOLS.ags', 'plan', '--router', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-54\\test_router_stderr_fails_close0\\router_stderr.py', '--out', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-54\\test_router_stderr_fails_close0\\plan.json'], returncode=2, stdout='', stderr='D:\\CCC 2.0\\AI\\agent-governance-system\\TOOLS\\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  from jsonschema import Draft7Validator, RefResolver\nERROR: [WinError 193] %1 is not a valid Win32 application\n').stdout
___________________ test_capability_escalation_fails_closed ___________________
CATALYTIC-DPT\TESTBENCH\test_phase8_router_receipts.py:266: in test_capability_escalation_fails_closed
    assert "REVOKED_CAPABILITY" in (r.stderr + r.stdout)
E   AssertionError: assert 'REVOKED_CAPABILITY' in ('D:\\CCC 2.0\\AI\\agent-governance-system\\TOOLS\\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  from jsonschema import Draft7Validator, RefResolver\nERROR: [WinError 193] %1 is not a valid Win32 application\n' + '')
E    +  where 'D:\\CCC 2.0\\AI\\agent-governance-system\\TOOLS\\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  from jsonschema import Draft7Validator, RefResolver\nERROR: [WinError 193] %1 is not a valid Win32 application\n' = CompletedProcess(args=['C:\\Users\\rene_\\AppData\\Local\\Programs\\Python\\Python313\\python.exe', '-m', 'TOOLS.ags', 'plan', '--router', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-54\\test_capability_escalation_fai0\\router_escalate.py', '--out', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-54\\test_capability_escalation_fai0\\plan.json'], returncode=2, stdout='', stderr='D:\\CCC 2.0\\AI\\agent-governance-system\\TOOLS\\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  from jsonschema import Draft7Validator, RefResolver\nERROR: [WinError 193] %1 is not a valid Win32 application\n').stderr
E    +  and   '' = CompletedProcess(args=['C:\\Users\\rene_\\AppData\\Local\\Programs\\Python\\Python313\\python.exe', '-m', 'TOOLS.ags', 'plan', '--router', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-54\\test_capability_escalation_fai0\\router_escalate.py', '--out', 'C:\\Users\\rene_\\AppData\\Local\\Temp\\pytest-of-Reneshizzle\\pytest-54\\test_capability_escalation_fai0\\plan.json'], returncode=2, stdout='', stderr='D:\\CCC 2.0\\AI\\agent-governance-system\\TOOLS\\ags.py:31: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  from jsonschema import Draft7Validator, RefResolver\nERROR: [WinError 193] %1 is not a valid Win32 application\n').stdout
=========================== short test summary info ===========================
FAILED CATALYTIC-DPT\TESTBENCH\test_phase8_router_receipts.py::test_router_receipts_created
FAILED CATALYTIC-DPT\TESTBENCH\test_phase8_router_receipts.py::test_router_over_output_fails_closed
FAILED CATALYTIC-DPT\TESTBENCH\test_phase8_router_receipts.py::test_router_stderr_fails_closed
FAILED CATALYTIC-DPT\TESTBENCH\test_phase8_router_receipts.py::test_capability_escalation_fails_closed
========================= 4 failed, 1 passed in 1.35s =========================
